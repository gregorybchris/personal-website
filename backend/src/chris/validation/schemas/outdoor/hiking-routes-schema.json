{
  "type": "array",
  "elem": "#hike",
  "cons": {
    "unique": ["@all.route_id", "@all.name", "@all.slug"]
  },
  "defs": {
    "#hike": {
      "type": "object",
      "attr": {
        "route_id": "#uuid",
        "name": "string",
        "slug": "#slug",
        "dates": "#datelist",
        "miles": "number",
        "elevation": ["null", "number"],
        "area": "string",
        "region": "string",
        "travel_time": ["null", "number"],
        "notes": ["null", "string"],
        "coordinates": ["null", "#coords"],
        "stars": [
          "null",
          {
            "type": "number",
            "cons": {
              "gt": 0,
              "lte": 5
            }
          }
        ],
        "archived": "boolean",
        "image_links": {
          "type": "array",
          "elem": "#link"
        }
      }
    },
    "#uuid": {
      "type": "string",
      "cons": {
        "format": { "type": "regex", "pattern": "^[a-z0-9-]{36}$" }
      }
    },
    "#slug": {
      "type": "string",
      "cons": {
        "format": { "type": "regex", "pattern": "^[a-z0-9-]+$" }
      }
    },
    "#date": {
      "type": "string",
      "cons": {
        "format": { "type": "regex", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$" }
      }
    },
    "#datelist": {
      "type": "array",
      "elem": "#date",
      "cons": {
        "monotone_inc": ["@all"]
      }
    },
    "#coords": {
      "type": "object",
      "attr": {
        "latitude": "number",
        "longitude": "number",
        "formatted": {
          "type": "string",
          "cons": {
            "format": {
              "type": "regex",
              "pattern": "^\\d+\\/\\d+\\/\\d+\\.\\d+\\/[NS] \\d+\\/\\d+\\/\\d+\\.\\d+\\/[EW]$"
            }
          }
        }
      }
    },
    "#link": {
      "type": "string",
      "cons": {
        "format": { "type": "regex", "pattern": "^http[s]?://" },
        "min_length": 5,
        "max_length": 120
      }
    }
  }
}
